description: |
  Send a status alert at the end of a job based on success or failure. 
  This must be the last step in a job

usage:
  version: 2.1

  orbs:
    mattermost-plugin-notify: nathanaelhoun/mattermost-plugin-notify@x.y.z

  jobs:
    build:
      docker:
        - image: <docker image>
      steps:
        # With fail_only set to true, no alert will be sent in this example. Change the exit status on the next line to produce an error.
        - run: exit 0

        - mattermost-plugin-notify/status:
            webhook: "webhook URL" # Optional: Enter a specific webhook here or the default will use $MM_WEBHOOK
            success_message: "This is a custom success notification" # Optional: Enter your own message. You can add @username of any user to be mentioned. It can also contains "@channel", "@here" or "@all"
            failure_message: "This is a custom failure notification" # Optional: Enter your own message. You can add @username of any user to be mentioned. It can also contains "@channel", "@here" or "@all"
